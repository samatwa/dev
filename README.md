# Terraform-проєкт для AWS інфраструктури

## Опис структури проєкту

lesson-5/
│
├── main.tf                  # Головний файл для підключення модулів
├── backend.tf               # Налаштування бекенду для стейтів (S3 + DynamoDB)
├── outputs.tf               # Загальне виведення ресурсів
│
├── modules/                 # Каталог з усіма модулями
│   │
│   ├── s3-backend/          # Модуль для S3 та DynamoDB
│   │   ├── s3.tf            # Створення S3-бакета
│   │   ├── dynamodb.tf      # Створення DynamoDB
│   │   ├── variables.tf     # Змінні для S3
│   │   └── outputs.tf       # Виведення інформації про S3 та DynamoDB
│   │
│   ├── vpc/                 # Модуль для VPC
│   │   ├── vpc.tf           # Створення VPC, підмереж, Internet Gateway
│   │   ├── routes.tf        # Налаштування маршрутизації
│   │   ├── variables.tf     # Змінні для VPC
│   │   └── outputs.tf       # Виведення інформації про VPC
│   │
│   └── ecr/                 # Модуль для ECR
│       ├── ecr.tf           # Створення ECR репозиторію
│       ├── variables.tf     # Змінні для ECR
│       └── outputs.tf       # Виведення URL репозиторію ECR
│
└── README.md                # Документація проєкту

## Команди для ініціалізації та запуску

```bash
# Ініціалізація Terraform (завантаження провайдерів та модулів)
terraform init

# Створення плану виконання (показує, які ресурси будуть створені)
terraform plan

# Застосування змін (створення інфраструктури)
terraform apply

# Знищення інфраструктури
terraform destroy
```

## Пояснення кожного модуля

### s3-backend
Цей модуль відповідає за створення S3-бакета для зберігання файлів стану Terraform (`terraform.tfstate`) та таблиці DynamoDB для блокування стану, щоб уникнути конфліктів при одночасній роботі.

### vpc
Модуль `vpc` створює мережеву інфраструктуру, включаючи:
- **VPC**: Ізольований простір у хмарі AWS.
- **Підмережі**: Публічні та приватні підмережі для розміщення ресурсів.
- **Internet Gateway**: Для доступу до Інтернету з публічних підмереж.
- **NAT Gateway**: Для доступу до Інтернету з приватних підмереж без прямого доступу ззовні.
- **Маршрутизація**: Таблиці маршрутів для керування трафіком.

### ecr
Модуль `ecr` створює Elastic Container Registry (ECR) для зберігання, управління та розгортання Docker-образів. Він налаштовує репозиторій з автоматичним скануванням на вразливості при завантаженні нового образу.
